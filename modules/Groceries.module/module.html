<div class="cm_groceries">
  <div class="content-wrapper">
    <div class="cm_groceries_top_sec">
      {% if module.heading %}
      <div class="cm_title">
        <h{{ module.heading_type }}>{{ module.heading }}</h{{ module.heading_type }}>
      </div>
      {% endif %}
      {% if module.content %}
      <div class="cm_content">
        {{ module.content }}
      </div>
      {% endif %}
    </div>
    <div class="row cm_product_item_wrap">
      {% for item in module.add_product %}
      <div id="item-{{ loop.index}}" class="cm_product_item">
        <div class="cm_product_item_inner">
          {% if item.image_field.src %}
          <div class="cm_image" style="background-image: url({{ item.image_field.src }});"></div>
          {% endif %}
          <div class="cm_details">
            <div class="cm_details_inner">
              <div class="cm_prod_detail">
                <p>
                  <span>{{ item.title }}</span>
                  <span><b>$</b>{{ item.price_in_ }}</span>
                </p>
              </div>
              <div class="cm_add_to_cart">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M0.78125 0.5625C0.57405 0.5625 0.375336 0.64481 0.228823 0.791323C0.08231 0.937836 0 1.13655 0 1.34375C0 1.55095 0.08231 1.74966 0.228823 1.89618C0.375336 2.04269 0.57405 2.125 0.78125 2.125H2.51562L3.14219 4.63594L5.48281 17.1125C5.51633 17.2915 5.61134 17.4532 5.75142 17.5696C5.89151 17.686 6.06786 17.7498 6.25 17.75H7.8125C6.9837 17.75 6.18884 18.0792 5.60279 18.6653C5.01674 19.2513 4.6875 20.0462 4.6875 20.875C4.6875 21.7038 5.01674 22.4987 5.60279 23.0847C6.18884 23.6708 6.9837 24 7.8125 24C8.6413 24 9.43616 23.6708 10.0222 23.0847C10.6083 22.4987 10.9375 21.7038 10.9375 20.875C10.9375 20.0462 10.6083 19.2513 10.0222 18.6653C9.43616 18.0792 8.6413 17.75 7.8125 17.75H18.75C17.9212 17.75 17.1263 18.0792 16.5403 18.6653C15.9542 19.2513 15.625 20.0462 15.625 20.875C15.625 21.7038 15.9542 22.4987 16.5403 23.0847C17.1263 23.6708 17.9212 24 18.75 24C19.5788 24 20.3737 23.6708 20.9597 23.0847C21.5458 22.4987 21.875 21.7038 21.875 20.875C21.875 20.0462 21.5458 19.2513 20.9597 18.6653C20.3737 18.0792 19.5788 17.75 18.75 17.75H20.3125C20.4946 17.7498 20.671 17.686 20.8111 17.5696C20.9512 17.4532 21.0462 17.2915 21.0797 17.1125L23.4234 4.6125C23.4445 4.49975 23.4406 4.38373 23.4118 4.27268C23.383 4.16164 23.3301 4.0583 23.2569 3.97001C23.1836 3.88171 23.0919 3.81062 22.9881 3.7618C22.8842 3.71297 22.771 3.68761 22.6562 3.6875H4.51562L3.88281 1.15469C3.84064 0.9856 3.74314 0.835467 3.60583 0.728164C3.46852 0.62086 3.29927 0.562548 3.125 0.5625H0.78125ZM9.375 20.875C9.375 21.2894 9.21038 21.6868 8.91735 21.9799C8.62433 22.2729 8.2269 22.4375 7.8125 22.4375C7.3981 22.4375 7.00067 22.2729 6.70765 21.9799C6.41462 21.6868 6.25 21.2894 6.25 20.875C6.25 20.4606 6.41462 20.0632 6.70765 19.7701C7.00067 19.4771 7.3981 19.3125 7.8125 19.3125C8.2269 19.3125 8.62433 19.4771 8.91735 19.7701C9.21038 20.0632 9.375 20.4606 9.375 20.875ZM20.3125 20.875C20.3125 21.2894 20.1479 21.6868 19.8549 21.9799C19.5618 22.2729 19.1644 22.4375 18.75 22.4375C18.3356 22.4375 17.9382 22.2729 17.6451 21.9799C17.3521 21.6868 17.1875 21.2894 17.1875 20.875C17.1875 20.4606 17.3521 20.0632 17.6451 19.7701C17.9382 19.4771 18.3356 19.3125 18.75 19.3125C19.1644 19.3125 19.5618 19.4771 19.8549 19.7701C20.1479 20.0632 20.3125 20.4606 20.3125 20.875ZM14.0625 7.59375V9.9375H16.4062C16.6135 9.9375 16.8122 10.0198 16.9587 10.1663C17.1052 10.3128 17.1875 10.5115 17.1875 10.7188C17.1875 10.926 17.1052 11.1247 16.9587 11.2712C16.8122 11.4177 16.6135 11.5 16.4062 11.5H14.0625V13.8438C14.0625 14.051 13.9802 14.2497 13.8337 14.3962C13.6872 14.5427 13.4885 14.625 13.2812 14.625C13.074 14.625 12.8753 14.5427 12.7288 14.3962C12.5823 14.2497 12.5 14.051 12.5 13.8438V11.5H10.1562C9.94905 11.5 9.75034 11.4177 9.60382 11.2712C9.45731 11.1247 9.375 10.926 9.375 10.7188C9.375 10.5115 9.45731 10.3128 9.60382 10.1663C9.75034 10.0198 9.94905 9.9375 10.1562 9.9375H12.5V7.59375C12.5 7.38655 12.5823 7.18784 12.7288 7.04132C12.8753 6.89481 13.074 6.8125 13.2812 6.8125C13.4885 6.8125 13.6872 6.89481 13.8337 7.04132C13.9802 7.18784 14.0625 7.38655 14.0625 7.59375Z" fill="#E26000"/>
                </svg>
              </div>
            </div>
            <div class="cm_add_subt">
              <div class="cm_sub">
                <svg xmlns="http://www.w3.org/2000/svg" width="31" height="32" viewBox="0 0 31 32" fill="none">
                  <rect width="31" height="32" rx="15.5" fill="black"/>
                  <path d="M17.704 15.6V16.544H11.48V15.6H17.704Z" fill="white"/>
                </svg>
              </div>
              <div class="cm_add_subt_no">
                <input type="text" class="qtyValue" value="1">
              </div>
              <div class="cm_add">
                <svg xmlns="http://www.w3.org/2000/svg" width="31" height="32" viewBox="0 0 31 32" fill="none">
                  <rect width="31" height="32" rx="15.5" fill="black"/>
                  <path d="M19.328 16.56H15.76V20.16H14.72V16.56H11.168V15.6H14.72V12H15.76V15.6H19.328V16.56Z" fill="white"/>
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <div class="cm_btn_wrap">
      <a class="hs-button" href="javascript:;">{{ module.button_text }}</a>
    </div>
  </div>
</div>


{% require_css %}
<style>
  .cm_groceries {
    {{ module.style.desktop_spacing.css }}
  }
  .cm_groceries .cm_product_item {
    display: none;
  }

  @media (max-width: 767px) {
    .cm_groceries {
      {{ module.style.mobile_spacing.css }}
    }
  }
</style>
{% end_require_css %}

{% require_js %}
<script>
  $(function () {
    $(".cm_product_item").slice(0, 9).show();
    $("body").on('click touchstart', '.cm_groceries .hs-button', function (e) {
      e.preventDefault();
      $(".cm_product_item:hidden").slice(0, 12).fadeIn();
      if ($(".cm_product_item:hidden").length == 0) {
        $(".cm_groceries .hs-button").css('visibility', 'hidden');
      }
    });
  });
</script>
{% end_require_js %}